<!DOCTYPE html>
<script src="underscore.js"></script>
<script src="backbone.js"></script>
<script src="strict.js"></script>

<script>
window.Model = Strict.Model.extend({
    type: "record",
    props: {
        firstName: ['string', true, 'joe'],
        lastName: ['string', true, 'schmoe'],
        thing: {
            type: 'string',
            required: true,
            default: 'hi'
        },
        num: 'number',
        today: 'date',
        hash: 'object',
        list: 'array'
    },
    derived: {
        fullName: {
            deps: ['firstName', 'lastName'],
            fn: function () {
                return this.firstName + ' ' + this.lastName;
            }
        },
        sillyName: {
            fn: function () {
                return this.firstName.slice(1) + 'oly ' + this.lastName.slice(1) + 'oly';    
            }
        }
    },
    session: {
        selected: {
            type: 'string',
            default: '\\o/'
        }
    }
});

window.model = new Model();

model.on('all', _.bind(console.log, console));

var date = new Date();
model.today = date;

model.set({firstName: 'somethings'}, {silent: true});

model.lastName = 'baby!';


</script>
